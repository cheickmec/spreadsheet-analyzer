# Ground Truth Semantic Zones for Business Accounting Excel File
# This file defines expected semantic zones for benchmark evaluation
# All coordinates are 0-indexed

metadata:
  file_name: "Business Accounting.xlsx"
  total_sheets: 10
  created: "2025-01-07"
  version: "2.0.0"
  approach: "semantic_zones"

sheets:
  - sheet_index: 0
    sheet_name: "Yiriden Transactions 2025"
    total_rows: 10
    total_cols: 9
    layout_type: "transaction_log"
    expected_zones:
      - zone_id: "data_transactions"
        zone_type: "data"
        semantic_role: "transaction_records"
        description: "Transaction entries with dates and amounts"
        start_row: 0
        end_row: 9
        start_col: 0
        end_col: 3
        confidence_threshold: 0.8
        relationships: ["embedded_totals"]

      - zone_id: "embedded_totals"
        zone_type: "summary"
        semantic_role: "revenue_expense_totals"
        description: "Totals embedded in header row"
        start_row: 0
        end_row: 0
        start_col: 6
        end_col: 8
        confidence_threshold: 0.7
        relationships: ["data_transactions"]

      - zone_id: "nav_separator"
        zone_type: "navigation"
        semantic_role: "column_separator"
        description: "Empty columns separating data from totals"
        start_row: 0
        end_row: 9
        start_col: 4
        end_col: 5
        confidence_threshold: 0.9

    notes: "Unusual layout with summary totals embedded in the first row alongside data. Empty columns 4-5 separate main data from totals."

  - sheet_index: 1
    sheet_name: "Yiriden Transactions 2023"
    total_rows: 769
    total_cols: 11
    layout_type: "transaction_log"
    expected_zones:
      - zone_id: "main_data"
        zone_type: "data"
        semantic_role: "transaction_history"
        description: "Large transaction dataset"
        start_row: 0
        end_row: 768
        start_col: 0
        end_col: 6
        confidence_threshold: 0.9

      - zone_id: "summary_columns"
        zone_type: "other"
        semantic_role: "partial_summary_area"
        description: "Columns with headers but minimal data"
        start_row: 0
        end_row: 768
        start_col: 7
        end_col: 10
        confidence_threshold: 0.6

    notes: "Main transaction data in columns 0-6, columns 7-10 have headers but appear to be mostly empty or contain only summary values"

  - sheet_index: 2
    sheet_name: "Yiriden 2023 Loans"
    total_rows: 121
    total_cols: 14
    layout_type: "side_by_side_report"
    expected_zones:
      - zone_id: "loan_metadata"
        zone_type: "metadata"
        semantic_role: "loan_details"
        description: "Loan summary information"
        start_row: 0
        end_row: 1
        start_col: 0
        end_col: 6
        confidence_threshold: 0.8
        relationships: ["payment_data"]

      - zone_id: "nav_divider"
        zone_type: "navigation"
        semantic_role: "visual_separator"
        description: "Empty column separating sections"
        start_row: 0
        end_row: 120
        start_col: 7
        end_col: 7
        confidence_threshold: 0.95

      - zone_id: "payment_data"
        zone_type: "data"
        semantic_role: "amortization_schedule"
        description: "Loan payment schedule"
        start_row: 0
        end_row: 120
        start_col: 8
        end_col: 13
        confidence_threshold: 0.9
        relationships: ["loan_metadata"]

    notes: "Classic side-by-side layout with loan details on left and payment schedule on right, separated by empty column"

  - sheet_index: 3
    sheet_name: "Sanoun Transactions 2024"
    total_rows: 167
    total_cols: 11
    layout_type: "data_with_summary"
    expected_zones:
      - zone_id: "transaction_data"
        zone_type: "data"
        semantic_role: "transaction_records"
        description: "Main transaction entries"
        start_row: 0
        end_row: 161
        start_col: 0
        end_col: 10
        confidence_threshold: 0.9
        relationships: ["bottom_summary"]

      - zone_id: "bottom_summary"
        zone_type: "summary"
        semantic_role: "period_totals"
        description: "Summary totals section"
        start_row: 162
        end_row: 166
        start_col: 7
        end_col: 10
        confidence_threshold: 0.85
        relationships: ["transaction_data"]

    notes: "Standard transaction log with summary section at bottom"

  - sheet_index: 4
    sheet_name: "Sanoun Transactions 2025"
    total_rows: 48
    total_cols: 10
    layout_type: "simple_transaction_log"
    expected_zones:
      - zone_id: "all_transactions"
        zone_type: "data"
        semantic_role: "current_year_transactions"
        description: "2025 transaction records"
        start_row: 0
        end_row: 47
        start_col: 0
        end_col: 9
        confidence_threshold: 0.95

    notes: "Simple single-zone transaction table"

  - sheet_index: 5
    sheet_name: "2024 Shea butter shipping"
    total_rows: 38
    total_cols: 7
    layout_type: "side_by_side_data"
    expected_zones:
      - zone_id: "shipping_data"
        zone_type: "data"
        semantic_role: "shipping_records"
        description: "Shea butter shipping transactions"
        start_row: 0
        end_row: 33
        start_col: 0
        end_col: 3
        confidence_threshold: 0.9
        relationships: ["conversion_formulas"]

      - zone_id: "conversion_formulas"
        zone_type: "formula"
        semantic_role: "currency_calculations"
        description: "Currency conversion calculations"
        start_row: 0
        end_row: 33
        start_col: 4
        end_col: 6
        confidence_threshold: 0.85
        relationships: ["shipping_data"]

    notes: "Two adjacent zones - shipping data and currency conversion formulas"

  - sheet_index: 6
    sheet_name: "Yiriden mileages"
    total_rows: 119
    total_cols: 7
    layout_type: "log_with_summary"
    expected_zones:
      - zone_id: "mileage_data"
        zone_type: "data"
        semantic_role: "mileage_log"
        description: "Vehicle mileage tracking entries"
        start_row: 0
        end_row: 115
        start_col: 0
        end_col: 6
        confidence_threshold: 0.9

      - zone_id: "mileage_summary"
        zone_type: "summary"
        semantic_role: "mileage_totals"
        description: "Summary statistics"
        start_row: 116
        end_row: 118
        start_col: 0
        end_col: 6
        confidence_threshold: 0.8

    notes: "Mileage log with summary rows at bottom"

  - sheet_index: 7
    sheet_name: "Truck Revenue Projections"
    total_rows: 37
    total_cols: 14
    layout_type: "calculation_model"
    expected_zones:
      - zone_id: "model_params"
        zone_type: "metadata"
        semantic_role: "model_parameters"
        description: "Projection model inputs"
        start_row: 0
        end_row: 5
        start_col: 0
        end_col: 13
        confidence_threshold: 0.8

      - zone_id: "projection_formulas"
        zone_type: "formula"
        semantic_role: "revenue_projections"
        description: "Calculated projections"
        start_row: 6
        end_row: 36
        start_col: 0
        end_col: 13
        confidence_threshold: 0.85

    notes: "Complex projection model with parameters and formulas"

  - sheet_index: 8
    sheet_name: "Yiriden 2022"
    total_rows: 355
    total_cols: 6
    layout_type: "historical_log"
    expected_zones:
      - zone_id: "historical_data"
        zone_type: "data"
        semantic_role: "2022_transactions"
        description: "Historical transaction records"
        start_row: 0
        end_row: 354
        start_col: 0
        end_col: 5
        confidence_threshold: 0.95

    notes: "Large historical transaction dataset"

  - sheet_index: 9
    sheet_name: "Real Estate - Horton Rd"
    total_rows: 100
    total_cols: 10
    layout_type: "property_records"
    expected_zones:
      - zone_id: "property_data"
        zone_type: "data"
        semantic_role: "real_estate_records"
        description: "Real estate transaction/expense records"
        start_row: 0
        end_row: 99
        start_col: 0
        end_col: 9
        confidence_threshold: 0.9

    notes: "Property-related financial records"

# Evaluation criteria for semantic zones
evaluation:
  zone_match_threshold: 0.5  # Minimum IoU to consider a zone match
  semantic_role_weight: 0.3  # Weight for matching semantic role
  zone_type_weight: 0.4      # Weight for matching zone type
  coordinate_weight: 0.3     # Weight for spatial accuracy
  confidence_threshold: 0.7  # Minimum confidence for valid detection

  # Scoring for zone types
  zone_type_scores:
    exact_match: 1.0
    related_match: 0.5  # e.g., metadata vs annotation
    wrong_match: 0.0

  # Acceptable zone type relationships
  acceptable_relationships:
    header: ["metadata", "annotation"]
    data: ["formula"]
    summary: ["formula", "annotation"]
    metadata: ["header", "annotation"]
    navigation: []  # Must match exactly
    formula: ["data", "summary"]
    annotation: ["metadata", "header"]
    other: []  # Any mismatch acceptable
